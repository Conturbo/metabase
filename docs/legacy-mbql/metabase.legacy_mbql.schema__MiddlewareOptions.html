<html><head></head><body style="margin: 0;"><h1><pre>MiddlewareOptions</pre></h1><div><div><p>Additional options that can be used to toggle middleware on or off.</p>
</div><div><div>A map with the following keys:<table><thead><tr><th>Key</th><th>Schema</th></tr></thead><tbody><tr style="border: 1px solid black;"><td style="border: 1px solid black; background: #cccccc;"><pre>skip-results-metadata?</pre><i>Optional.</i></td><td style="border: 1px solid black;"><div><p>Should we skip adding results_metadata to query results after running the query? Used by
<code>metabase.query-processor.middleware.results-metadata</code>; default <code>false</code>.</p>
</div><div><span>must be either <code>true</code> or <code>false</code>.</span></div></td></tr><tr style="border: 1px solid black;"><td style="border: 1px solid black; background: #cccccc;"><pre>format-rows?</pre><i>Optional.</i></td><td style="border: 1px solid black;"><div><p>Should we skip converting datetime types to ISO-8601 strings with appropriate timezone when post-processing
results? Used by <code>metabase.query-processor.middleware.format-rows</code>default <code>false</code>.</p>
</div><div><span>must be either <code>true</code> or <code>false</code>.</span></div></td></tr><tr style="border: 1px solid black;"><td style="border: 1px solid black; background: #cccccc;"><pre>disable-mbql->native?</pre><i>Optional.</i></td><td style="border: 1px solid black;"><div><p>Disable the MBQL-&gt;native middleware. If you do this, the query will not work at all, so there are no cases where
you should set this yourself. This is only used by the <code>metabase.query-processor.preprocess/preprocess</code> function to
get the fully pre-processed query without attempting to convert it to native.</p>
</div><div><span>must be either <code>true</code> or <code>false</code>.</span></div></td></tr><tr style="border: 1px solid black;"><td style="border: 1px solid black; background: #cccccc;"><pre>disable-max-results?</pre><i>Optional.</i></td><td style="border: 1px solid black;"><div><p>Disable applying a default limit on the query results. Handled in the <code>add-default-limit</code> middleware. If true,
this will override the <code>:max-results</code> and <code>:max-results-bare-rows</code> values in <code>Constraints</code>.</p>
</div><div><span>must be either <code>true</code> or <code>false</code>.</span></div></td></tr><tr style="border: 1px solid black;"><td style="border: 1px solid black; background: #cccccc;"><pre>userland-query?</pre><i>Optional.</i></td><td style="border: 1px solid black;"><div><p>Userland queries are ones ran as a result of an API call, Pulse, or the like. Special handling is done in
certain userland-only middleware for such queries -- results are returned in a slightly different format, and
QueryExecution entries are normally saved, unless you pass <code>:no-save</code> as the option.</p>
</div><div><div>Either <code>nil</code>, or <div><span>must be either <code>true</code> or <code>false</code>.</span></div></div></div></td></tr><tr style="border: 1px solid black;"><td style="border: 1px solid black; background: #cccccc;"><pre>add-default-userland-constraints?</pre><i>Optional.</i></td><td style="border: 1px solid black;"><div><p>Whether to add some default <code>max-results</code> and <code>max-results-bare-rows</code> constraints. By default, none are added,
although the functions that ultimately power most API endpoints tend to set this to <code>true</code>. See
<code>add-constraints</code> middleware for more details.</p>
</div><div><div>Either <code>nil</code>, or <div><span>must be either <code>true</code> or <code>false</code>.</span></div></div></div></td></tr><tr style="border: 1px solid black;"><td style="border: 1px solid black; background: #cccccc;"><pre>process-viz-settings?</pre><i>Optional.</i></td><td style="border: 1px solid black;"><div><p>Whether to process a question's visualization settings and include them in the result metadata so that they can
incorporated into an export. Used by <code>metabase.query-processor.middleware.visualization-settings</code>; default
<code>false</code>.</p>
</div><div><div>Either <code>nil</code>, or <div><span>must be either <code>true</code> or <code>false</code>.</span></div></div></div></td></tr></tbody></table></div></div></div></body></html>